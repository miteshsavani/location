<!DOCTYPE html>
<html>
  <head>
   <script type="text/javascript">
     function initGeolocation()
     {
		wc('in > ');
        if( navigator.geolocation )
        {
			wc('\n if >');
           // Call getCurrentPosition with success and failure callbacks
           navigator.geolocation.getCurrentPosition( success, fail );
        }
        else
        {
           alert("Sorry, your browser does not support geolocation services.");
        }
		
		
		if ("geolocation" in navigator){ //check geolocation available 
			//try to get user current location using getCurrentPosition() method
			navigator.geolocation.getCurrentPosition(function(position){ 
					console.log("Found your location \nLat : "+position.coords.latitude+" \nLang :"+ position.coords.longitude);
				});
		}else{
			console.log("Browser doesn't support geolocation!");
		}
     }

     function success(position)
     {
wc('\n success >');
         document.getElementById('long').value = position.coords.longitude;
         document.getElementById('lat').value = position.coords.latitude
     }

     function fail()
     {
	 wc('\n fail here >	');
        // Could not obtain location
     }
	 
	 function wc(data){
		document.getElementById('console').innerHTML = document.getElementById('console').innerHTML + data;
	 }

   </script>    
 </head>

 <body onLoad="initGeolocation();">
   <FORM NAME="rd" METHOD="POST" ACTION="index.html">
   <span id='console'></span>
     <INPUT TYPE="text" NAME="long" ID="long" VALUE="">
     <INPUT TYPE="text" NAME="lat" ID="lat" VALUE="">
 </body>